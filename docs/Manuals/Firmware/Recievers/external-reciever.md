---
description: Инструкция по прошивке внешних ELRS приемников
---

!!! danger "Внимание"
    Если вы переходите на `3.х.х` версию прошивки с `2.х.х` для начала обновите ваш приемник на версию `2.5.2`, иначе прошивка не установится по WiFi. Ошибка будет показывать сообщение **"Not Enough Space"**.
    
    Прошивка через полетник или USB-UART не требует предварительного обновления, можно сразу шить нужную версию.
    
    Не пытайтесь установить Repartitioner на приемник, это только для передатчиков.
    
!!! danger "Внимание"
    При обратном переходе с `3.x.x` на `2.x.x` последние версии конфигуратора могут падать в ошибку, при прошивке по passthrough, попробуйте более старую версию конфигуратора, либо прошейте по WiFi.
    (Такой переход актуален в основном владельцам Literadio 2/3) 
    Перешить EP1 Dual на `2.x.x` невозможно

## Подключение приемника к полетнику

!!! attention "Примечание"
    Порты на некоторых полетниках могут загнать приемник в режим бутлодера. Если после пайки ваш приемник не моргает, а просто светится перенесите его на UART1.

<figure markdown>
![HM2400 connection](/../assets/images/EPWiring.png)
</figure>

RX приемника паяем на TX полетника, TX приемника на RX полетника. Цифра TX/RX должна совпадать, если вы паяете на первый порт полетника, то это TX1 + RX1.

!!! note "DJI FPV"
    Если у вас **DJI Air Unit / Vista / O3**, убедитесь что SBUS провод от видеопередатчика не попадает на тот же UART, что и ELRS приемник. Провод SBUS от юнита можно просто удалить, он вам не нужен, это для аппаратуры от DJI.

## Настройка полетного контроллера

После пайки приемника настройте порты и протокол в полетнике. Если вы паялись на TX(x) RX(x), то выберите порт UART(x) во вкладке портов и поставить галочку Serial RX напротив него, **НИКАКИЕ ДРУГИЕ ГАЛКИ И ОПЦИИ НА ЭТО ПОРТЕ НЕ ВКЛЮЧАЕМ**. См. скриншоты ниже.

??? info "Скриншоты вкладки портов"
    <figure markdown>
    ![Ports Tab](/../assets/images/PortsTab.png)
    </figure>

    <figure markdown>
    ![INAV Ports](/../assets/images/FC-portsconfig-INAV.png)
    </figure>

Во вкладке приемника установите протокол `CRSF`. См. скриншоты ниже.

??? info "Скриншоты вкладки приемника"
    <figure markdown>
    ![Conf Tab](/../assets/images/ConfigurationTab.png)
    </figure>

    <figure markdown>
    ![INAV Config](/../assets/images/FC-config-INAV.png)
    </figure>

    <figure markdown>
    ![INAV Config](/../assets/images/FC-rxconfig-INAV.png)
    </figure>


## Прошивка по Wifi

- Device Category: 
    - Выбираем фирму вашего приемника

- Device:
    - Выбираем модель вашего приемника, например `HappyModel EP 2400 RX` для HappyModel EP1/2

<figure markdown>
![via WiFi](/../assets/images/Method_RX_WiFi.png)
<figcaption>Прошивка по WiFi</figcaption>
</figure>

### Метод через браузер

**(Самый простой и менее трудозатратный метод, рекомендуется всем)**

Перед началом убедитесь что вы верно припаяли приемник и настроили полетник. [(см начало статьи)](#_1)

Выбрав правильный таргет и [Параметры сборки](/Manuals/FlashingOptions), cоберите кнопкой `Build` вашу прошивку через ExpressLRS Configurator.

<figure markdown>
![Build]
</figure>

После того как строчки в окне конфигуратора успешно пробегут, откроется проводник, где будет файл `Название_RX-<версия>.bin`.
Не закрывайте это окно, а сохраните этот файл в удобное место для последующей загрузки, например скиньте в сохраненки Telegram.

Подайте питание на полетник. Это можно сделать как по USB, так и воткнув батарею в дрон. Диод на приемнике начнет медленно мигать. Через 20-30 секунд диод на приемнике начнет моргать быстро, значит он начал раздавать WiFi.

<figure markdown>
![LEDSEQ_WIFI_UPDATE](https://cdn.discordapp.com/attachments/738450139693449258/921065813983760384/LEDSEQ_WIFI_UPDATE_2_3.gif)
</figure>

Подключитесь к сети `ExpressLRS RX` с паролем `expresslrs`.

<figure markdown>
![WiFi Hotspot](/../assets/images/WifiHotspot.png)
</figure>

Откройте браузер и перейдите на http://10.0.0.1/, откроется красивый сайт где вам нужна будет кнопка `Choose File`, выберите ранее полученный из конфигуратора файл `Название_RX-<версия>.bin` и нажмите `Update`.

После того как файл загрузится появится зеленое окно подтверждения что все хорошо, либо ошибка. Если ругается на таргет, убедитесь что он верный и нажмите `Flash Anyway`.
При успешной прошивке вы увидите зеленое окно подтверждения. Дождитесь пока приемник перезагрузится и снова начнет медленно мигать.
После этого переподайте питание на полетный контроллер, приемник прошит.

<figure markdown>
![Firmware Update](/../assets/images/web-firmwareupdate.png)
</figure>

<figure markdown>
![Update Success](/../assets/images/web-firmwareupdateSuccess.png)
</figure>

### Метод через домашнюю сеть и браузер

!!! note "Примечание"
    Этот метод работает только при условии, что вы задали свою домашнюю WiFi сеть при предыдущей прошивке, либо на WiFi странице приемника.

Выбрав правильный таргет и [Параметры сборки](/Manuals/FlashingOptions), cоберите кнопкой `Build` вашу прошивку через ExpressLRS Configurator.

<figure markdown>
![Build]
</figure>

После того как строчки в окне конфигуратора успешно пробегут, откроется проводник, где будет файл `Название_TX-<версия>.bin`.
Не закрывайте это окно, а сохраните этот файл в удобное место для последующей загрузки, например скиньте в сохраненки Telegram.

Подайте питание на полетник. Это можно сделать как по USB, так и воткнув батарею в дрон. Диод на приемнике начнет медленно мигать. Через 20-30 секунд диод на приемнике начнет моргать быстро, значит он начал раздавать WiFi.

<figure markdown>
![LEDSEQ_WIFI_UPDATE](https://cdn.discordapp.com/attachments/738450139693449258/921065813983760384/LEDSEQ_WIFI_UPDATE_2_3.gif)
</figure>

Если во время предыдущей прошивки вы прописали SSID своего домашнего WiFi или добавили его подключившись по `10.0.0.1`, то теперь модуль подключается к вашему роутеру, вместо раздачи точки.

!!! danger "Внимание"
    После того как вы подключите свой TX/RX модуль к домашней WiFi сети он всегда будет подключаться к вашему роутеру. Он не будет создавать привычную WiFi точку, пока видит ваш домашний WiFi. Если вы не можете найти устройство в локальной сети, выключите роутер и подключитесь первым методом, далее уберите домашнюю WiFi сеть.

Используя браузер, перейдите по ссылке http://elrs_rx.local и вы попадете на WiFi страницу модуля. Найдите пункт Firmware Update, как показано ниже:

!!! note "Примечание"
    Иногда роутеры не присваивают устройствам dns имя (http://elrs_rx.local), если этот сайт не доступен вам придется сходить в амдинку вашего роутера и посмотреть какой ip получило устройство ExpressLRS, и перейти по этому ip.

<figure markdown>
![Firmware Update](/../assets/images/web-firmwareupdate.png)
</figure>

Выберите ранее полученный из конфигуратора файл `Название_RX-<версия>.bin` и нажмите `Update`.

После того как файл загрузится появится зеленое окно подтверждения что все хорошо, либо ошибка. Если ругается на таргет, убедитесь что он верный и нажмите `Flash Anyway`.
При успешной прошивке вы увидите зеленое окно подтверждения. Дождитесь пока приемник перезагрузится и снова начнет медленно мигать.
После этого переподайте питание на полетный контроллер, приемник прошит.

<figure markdown>
![Firmware Update](/../assets/images/web-firmwareupdate.png)
</figure>

<figure markdown>
![Update Success](/../assets/images/web-firmwareupdateSuccess.png)
</figure>

### Метод через домашнюю сеть и конфигуратор

!!! note "Примечание"
    Этот метод работает только при условии, что вы задали свою домашнюю WiFi сеть при предыдущей прошивке, либо на WiFi странице приемника.

Подайте питание на полетник. Это можно сделать как по USB, так и воткнув батарею в дрон. Диод на приемнике начнет медленно мигать. Через 20-30 секунд диод на приемнике начнет моргать быстро, значит он начал раздавать WiFi.

<figure markdown>
![LEDSEQ_WIFI_UPDATE](https://cdn.discordapp.com/attachments/738450139693449258/921065813983760384/LEDSEQ_WIFI_UPDATE_2_3.gif)
</figure>

Если во время предыдущей прошивки вы прописали SSID своего домашнего WiFi или добавили его подключившись по `10.0.0.1`, то теперь модуль подключается к вашему роутеру, вместо раздачи точки.

!!! danger "Внимание"
    После того как вы подключите свой TX/RX модуль к домашней WiFi сети он всегда будет подключаться к вашему роутеру. Он не будет создавать привычную WiFi точку, пока видит ваш домашний WiFi. Если вы не можете найти устройство в локальной сети, выключите роутер и подключитесь первым методом, далее уберите домашнюю WiFi сеть.

Теперь ваше устройство будет видно внизу ExpressLRS Configurator, если выбран метод прошивки WiFi
<figure markdown>
![via WiFi](/assets/images/Method_TX_WiFi.png)
<figcaption>Прошивка по WiFi</figcaption>
</figure>

!!! note "Примечание"
    Иногда роутеры не присваивают устройствам dns имя (http://elrs_rx.local), если этот сайт не доступен вам придется сходить в амдинку вашего роутера и посмотреть какой ip получило устройство ExpressLRS, и вбить его вместо порта внизу ExpressLRS Configurator.

В ExpressLRS Configurator выбрав правильный таргет и [Параметры сборки](/Manuals/FlashingOptions), нажмите `Build and Flash` и прошейте передатчик. При успешной прошивке вы увидите результат как на картинке ниже:

<figure markdown>
![Build & Flash]
</figure>

<figure markdown>
![RXUpload Log](/../assets/images/RXWifiUpdateLog.png)
</figure>

## Прошивка по USB через полетник

- Device Category: 
    - Выбираем фирму вашего приемника

- Device:
    - Выбираем модель вашего приемника, например `HappyModel EP 2400 RX` для HappyModel EP1/2

<figure markdown>
![via Passthrough](/../assets/images/Method_RX_Passthrough.png)
<figcaption>Прошивка через полетник</figcaption>
</figure>

Убедитесь что приемник верно припаян, а в BetaFlight/iNav стоят правильные настройки [(см начало статьи)](#_1).

Отключитесь от Betaflight/iNav конфигуратора и закройте его.

Подключите полетный контроллер по USB, если приемник не горит подключите также аккумулятор. Выберите правильный COM-порт, тотже что используется в Betaflight/iNav для подключения к полетнику. Нажмите **Build & Flash** и ждите успешного завершения прошивки.

<figure markdown>
![Build & Flash]
</figure>

!!! info "Ошибка при прошивке"
    Если во время прошивки вылезла ошибка, перевоткните USB в полетник и нажмите прошить еще раз. Если приемник успевает поднять WiFi до начала прошивки конфигаратором, то он не прошьется.

## Прошивка через USB-UART/FTDI

- Device Category: 
    - Выбираем фирму вашего приемника

- Device:
    - Выбираем модель вашего приемника, например `HappyModel EP 2400 RX` для HappyModel EP1/2

<figure markdown>
![via UART](/../assets/images/Method_RX_UART.png)
<figcaption>Прошивка через FTDI</figcaption>
</figure>

Подключите приемник к вашему USB-UART/FTDI адаптеру. TX-RX, RX-TX, 5V-5V, GND-GND. Запаяйте/замкните перемычку boot на приемнике, либо зажмите кнопку до подачи питания на приемник. Диод должен гореть ровно, не моргать.


<figure markdown>
![FTDI Wiring](/../assets/images/FTDIConn.png)
</figure>

В ExpressLRS Configurator выбрав правильный таргет и [Параметры сборки](/Manuals/FlashingOptions), нажмите `Build and Flash` и прошейте передатчик.

<figure markdown>
![Build & Flash]
</figure>

После успешной прошивки, распайте перемычку boot и отключите  приемник от адаптера.

[Build]: /../assets/images/Build.png
[Build & Flash]: /../assets/images/BuildFlash.png
[Firmware Options]: ../firmware-options.md
[wired properly]: #wiring-up-your-receiver
[Wiring Guide]: #wiring-up-your-receiver
